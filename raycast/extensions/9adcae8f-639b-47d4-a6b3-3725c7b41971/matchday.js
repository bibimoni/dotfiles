"use strict";var Ne=Object.create;var J=Object.defineProperty;var ze=Object.getOwnPropertyDescriptor;var je=Object.getOwnPropertyNames;var Be=Object.getPrototypeOf,Ge=Object.prototype.hasOwnProperty;var Ke=(e,a)=>{for(var r in a)J(e,r,{get:a[r],enumerable:!0})},de=(e,a,r,t)=>{if(a&&typeof a=="object"||typeof a=="function")for(let s of je(a))!Ge.call(e,s)&&s!==r&&J(e,s,{get:()=>a[s],enumerable:!(t=ze(a,s))||t.enumerable});return e};var Z=(e,a,r)=>(r=e!=null?Ne(Be(e)):{},de(a||!e||!e.__esModule?J(r,"default",{value:e,enumerable:!0}):r,e)),He=e=>de(J({},"__esModule",{value:!0}),e);var it={};Ke(it,{default:()=>Le});module.exports=He(it);var z=require("react"),u=require("@raycast/api");var D=require("react");var ie=require("@raycast/api");async function C(e){let a=await ie.LocalStorage.getItem(e);return a==null?null:JSON.parse(a)}async function L(e,a){let r=JSON.stringify(a);await ie.LocalStorage.setItem(e,r)}function Y(){let[e,a]=(0,D.useState)([]),[r,t]=(0,D.useState)([]),[s,l]=(0,D.useState)([]);async function h(c){if(c.type==="team"){let d=e.filter(i=>i.id!==c.value.id);return a([...d,c.value]),L("favoriteTeams",[...d,c.value])}if(c.type==="player"){let d=r.filter(i=>i.id!==c.value.id);return t([...d,c.value]),L("favoritePlayers",[...d,c.value])}if(c.type==="league"){let d=s.filter(i=>i.id!==c.value.id);return l([...d,c.value]),L("favoriteLeagues",[...d,c.value])}}async function p(c,d){if(c==="team"){let i=e.filter(n=>n.id!==d);return a(i),L("favoriteTeams",i)}if(c==="player"){let i=r.filter(n=>n.id!==d);return t(i),L("favoritePlayers",i)}if(c==="league"){let i=s.filter(n=>n.id!==d);return l(i),L("favoriteLeagues",i)}}async function f(){let c=await C("favoriteTeams"),d=await C("favoritePlayers"),i=await C("favoriteLeagues");c&&a(c),d&&t(d),i&&l(i)}return(0,D.useEffect)(()=>{f()},[]),(0,D.useMemo)(()=>({teams:e,players:r,leagues:s,addItems:h,removeItems:p,reloadData:f}),[e,r,s])}var y=Z(require("react")),w=require("@raycast/api");var he=Object.prototype.hasOwnProperty;function q(e,a){var r,t;if(e===a)return!0;if(e&&a&&(r=e.constructor)===a.constructor){if(r===Date)return e.getTime()===a.getTime();if(r===RegExp)return e.toString()===a.toString();if(r===Array){if((t=e.length)===a.length)for(;t--&&q(e[t],a[t]););return t===-1}if(!r||typeof e=="object"){t=0;for(r in e)if(he.call(e,r)&&++t&&!he.call(a,r)||!(r in a)||!q(e[r],a[r]))return!1;return Object.keys(a).length===t}}return e!==e&&a!==a}var _=Z(require("node:fs")),X=Z(require("node:path")),be=Z(require("node:crypto"));var $e=require("react/jsx-runtime");function Je(e){let a=(0,y.useRef)(e),r=(0,y.useRef)(0);return q(e,a.current)||(a.current=e,r.current+=1),(0,y.useMemo)(()=>a.current,[r.current])}function T(e){let a=(0,y.useRef)(e);return a.current=e,a}function Ze(e,a){let r=e instanceof Error?e.message:String(e);return(0,w.showToast)({style:w.Toast.Style.Failure,title:a?.title??"Something went wrong",message:a?.message??r,primaryAction:a?.primaryAction??me(e),secondaryAction:a?.primaryAction?me(e):void 0})}var me=e=>{let a=!0,r="[Extension Name]...",t="";try{let h=JSON.parse((0,_.readFileSync)((0,X.join)(w.environment.assetsPath,"..","package.json"),"utf8"));r=`[${h.title}]...`,t=`https://raycast.com/${h.owner||h.author}/${h.name}`,(!h.owner||h.access==="public")&&(a=!1)}catch{}let s=w.environment.isDevelopment||a,l=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:s?"Copy Logs":"Report Error",onAction(h){h.hide(),s?w.Clipboard.copy(l):(0,w.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(t)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${l}
\`\`\`
`)}`)}}};function Ye(e,a,r){let t=(0,y.useRef)(0),[s,l]=(0,y.useState)({isLoading:!0}),h=T(e),p=T(r?.abortable),f=T(a||[]),c=T(r?.onError),d=T(r?.onData),i=T(r?.onWillExecute),n=T(r?.failureToastOptions),v=T(s.data),g=(0,y.useRef)(null),k=(0,y.useRef)({page:0}),m=(0,y.useRef)(!1),E=(0,y.useRef)(!0),K=(0,y.useRef)(50),I=(0,y.useCallback)(()=>(p.current&&(p.current.current?.abort(),p.current.current=new AbortController),++t.current),[p]),S=(0,y.useCallback)((...P)=>{let A=I();i.current?.(P),l($=>({...$,isLoading:!0}));let F=qe(h.current)(...P);function V($){return $.name=="AbortError"||A===t.current&&(c.current?c.current($):w.environment.launchType!==w.LaunchType.Background&&Ze($,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(U){U.hide(),g.current?.(...f.current||[])}},...n.current}),l({error:$,isLoading:!1})),$}return typeof F=="function"?(m.current=!0,F(k.current).then(({data:$,hasMore:U,cursor:Ve})=>(A===t.current&&(k.current&&(k.current.cursor=Ve,k.current.lastItem=$?.[$.length-1]),d.current&&d.current($,k.current),U&&(K.current=$.length),E.current=U,l(We=>k.current.page===0?{data:$,isLoading:!1}:{data:(We.data||[])?.concat($),isLoading:!1})),$),$=>(E.current=!1,V($)))):(m.current=!1,F.then($=>(A===t.current&&(d.current&&d.current($),l({data:$,isLoading:!1})),$),V))},[d,c,f,h,l,g,i,k,n,I]);g.current=S;let R=(0,y.useCallback)(()=>{k.current={page:0};let P=f.current||[];return S(...P)},[S,f]),O=(0,y.useCallback)(async(P,A)=>{let F;try{if(A?.optimisticUpdate){I(),typeof A?.rollbackOnError!="function"&&A?.rollbackOnError!==!1&&(F=structuredClone(v.current?.value));let V=A.optimisticUpdate;l($=>({...$,data:V($.data)}))}return await P}catch(V){if(typeof A?.rollbackOnError=="function"){let $=A.rollbackOnError;l(U=>({...U,data:$(U.data)}))}else A?.optimisticUpdate&&A?.rollbackOnError!==!1&&l($=>({...$,data:F}));throw V}finally{A?.shouldRevalidateAfter!==!1&&(w.environment.launchType===w.LaunchType.Background||w.environment.commandMode==="menu-bar"?await R():R())}},[R,v,l,I]),H=(0,y.useCallback)(()=>{k.current.page+=1;let P=f.current||[];S(...P)},[k,f,S]);(0,y.useEffect)(()=>{k.current={page:0},r?.execute!==!1?S(...a||[]):I()},[Je([a,r?.execute,S]),p,k]),(0,y.useEffect)(()=>()=>{I()},[I]);let Me=r?.execute!==!1?s.isLoading:!1,Oe={...s,isLoading:Me},Fe=m.current?{pageSize:K.current,hasMore:E.current,onLoadMore:H}:void 0;return{...Oe,revalidate:R,mutate:O,pagination:Fe}}function qe(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function pe(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function Xe(e){return e instanceof URLSearchParams?e.toString():e}function we(e,a=[]){function r(t){return"update"in e?e.update(t,"utf8"):e.write(t)}return{dispatch:function(t){t=Xe(t),t===null?this._null():this["_"+typeof t](t)},_object:function(t){let s=/\[object (.*)\]/i,l=Object.prototype.toString.call(t),h=s.exec(l)?.[1]??"unknown:["+l+"]";h=h.toLowerCase();let p=null;if((p=a.indexOf(t))>=0){this.dispatch("[CIRCULAR:"+p+"]");return}else a.push(t);if(Buffer.isBuffer(t))return r("buffer:"),r(t.toString("utf8"));if(h!=="object"&&h!=="function"&&h!=="asyncfunction")if(this["_"+h])this["_"+h](t);else throw new Error('Unknown object type "'+h+'"');else{let f=Object.keys(t);f=f.sort(),pe(t)||f.splice(0,0,"prototype","__proto__","constructor"),r("object:"+f.length+":");let c=this;return f.forEach(function(d){c.dispatch(d),r(":"),c.dispatch(t[d]),r(",")})}},_array:function(t,s){s=typeof s<"u"?s:!1;let l=this;if(r("array:"+t.length+":"),!s||t.length<=1){t.forEach(function(f){l.dispatch(f)});return}let h=[],p=t.map(function(f){let c=Qe(),d=a.slice();return we(c,d).dispatch(f),h=h.concat(d.slice(a.length)),c.read().toString()});a=a.concat(h),p.sort(),this._array(p,!1)},_date:function(t){r("date:"+t.toJSON())},_symbol:function(t){r("symbol:"+t.toString())},_error:function(t){r("error:"+t.toString())},_boolean:function(t){r("bool:"+t.toString())},_string:function(t){r("string:"+t.length+":"),r(t.toString())},_function:function(t){r("fn:"),pe(t)?this.dispatch("[native]"):this.dispatch(t.toString()),this.dispatch("function-name:"+String(t.name)),this._object(t)},_number:function(t){r("number:"+t.toString())},_xml:function(t){r("xml:"+t.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(t){r("regex:"+t.toString())},_uint8array:function(t){r("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray:function(t){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array:function(t){r("int8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array:function(t){r("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array:function(t){r("int16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array:function(t){r("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array:function(t){r("int32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array:function(t){r("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array:function(t){r("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer:function(t){r("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url:function(t){r("url:"+t.toString())},_map:function(t){r("map:");let s=Array.from(t);this._array(s,!0)},_set:function(t){r("set:");let s=Array.from(t);this._array(s,!0)},_file:function(t){r("file:"),this.dispatch([t.name,t.size,t.type,t.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(t){r("bigint:"+t.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function Qe(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function et(e,a){let r=this[e];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:a}function tt(e,a){return typeof a=="string"&&a.startsWith("__raycast_cached_date__")?new Date(a.replace("__raycast_cached_date__","")):typeof a=="string"&&a.startsWith("__raycast_cached_buffer__")?Buffer.from(a.replace("__raycast_cached_buffer__",""),"base64"):a}function ge(e){let a=be.default.createHash("sha1");return we(a).dispatch(e),a.digest("hex")}var rt=Symbol("cache without namespace"),ye=new Map;function at(e,a,r){let t=r?.cacheNamespace||rt,s=ye.get(t)||ye.set(t,new w.Cache({namespace:r?.cacheNamespace})).get(t);if(!s)throw new Error("Missing cache");let l=T(e),h=T(a),p=(0,y.useSyncExternalStore)(s.subscribe,()=>{try{return s.get(l.current)}catch(i){console.error("Could not get Cache data:",i);return}}),f=(0,y.useMemo)(()=>{if(typeof p<"u"){if(p==="undefined")return;try{return JSON.parse(p,tt)}catch(i){return console.warn("The cached data is corrupted",i),h.current}}else return h.current},[p,h]),c=T(f),d=(0,y.useCallback)(i=>{let n=typeof i=="function"?i(c.current):i;if(typeof n>"u")s.set(l.current,"undefined");else{let v=JSON.stringify(n,et);s.set(l.current,v)}return n},[s,l,c]);return[f,d]}var W=Symbol();function Q(e,a,r){let{initialData:t,keepPreviousData:s,internal_cacheKeySuffix:l,...h}=r||{},p=(0,y.useRef)(null),[f,c]=at(ge(a||[])+l,W,{cacheNamespace:ge(e)}),d=(0,y.useRef)(f!==W?f:t),i=(0,y.useRef)(void 0),{mutate:n,revalidate:v,...g}=Ye(e,a||[],{...h,onData(I,S){i.current=S,h.onData&&h.onData(I,S),!(S&&S.page>0)&&(p.current="promise",d.current=I,c(I))}}),k,m=g.pagination;i.current&&i.current.page>0&&g.data?k=g.data:p.current==="promise"?k=d.current:s&&f!==W?(k=f,m&&(m.hasMore=!0,m.pageSize=f.length)):s&&f===W?k=d.current:f!==W?(k=f,m&&(m.hasMore=!0,m.pageSize=f.length)):k=t;let E=T(k),K=(0,y.useCallback)(async(I,S)=>{let R;try{if(S?.optimisticUpdate){typeof S?.rollbackOnError!="function"&&S?.rollbackOnError!==!1&&(R=structuredClone(E.current));let O=S.optimisticUpdate(E.current);p.current="cache",d.current=O,c(O)}return await n(I,{shouldRevalidateAfter:S?.shouldRevalidateAfter})}catch(O){if(typeof S?.rollbackOnError=="function"){let H=S.rollbackOnError(E.current);p.current="cache",d.current=H,c(H)}else S?.optimisticUpdate&&S?.rollbackOnError!==!1&&(p.current="cache",d.current=R,c(R));throw O}},[c,n,E,d,p]);return(0,y.useEffect)(()=>{f!==W&&(p.current="cache",d.current=f)},[f]),{data:k,isLoading:g.isLoading,error:g.error,mutate:i.current&&i.current.page>0?n:K,pagination:m,revalidate:v}}async function ke(){let a=await fetch("http://46.101.91.154:6006/");if(!a.ok)throw new Error("Failed to fetch header token");return await a.json()}function ve(e){let{data:a,error:r,isLoading:t}=Q(async s=>{let h=`https://www.fotmob.com/api/matches?date=${s.toISOString().split("T")[0].replace(/-/g,"")}`,p=await ke(),f=await fetch(h,{headers:p});if(!f.ok)throw new Error("Failed to fetch search results");return await f.json()},[e]);return{data:a,error:r,isLoading:t}}var Ae=require("react"),Te=require("@raycast/api");function ee(e){let a=new Date,r=new Date(a);r.setDate(r.getDate()-1);let t=new Date(a);t.setDate(t.getDate()+1);let s=new Date(e).toLocaleDateString("en-US",{weekday:"short"}),l=new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}),h=new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),p=new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric"});return oe(a,e)?`${p}, today`:oe(r,e)?`${p}, yesterday`:oe(t,e)?`${p}, tomorrow`:nt(a,e)?`${p}, ${s}`:st(a,e)?`${p}, ${l}`:`${p}, ${h}`}function oe(e,a){return new Date(a).getDate()===e.getDate()&&new Date(a).getMonth()===e.getMonth()&&new Date(a).getFullYear()===e.getFullYear()}function nt(e,a){let r=new Date(e.setDate(e.getDate()-e.getDay())),t=new Date(e.setDate(e.getDate()-e.getDay()+6));return new Date(a)>=r&&new Date(a)<=t}function st(e,a){return new Date(a).getFullYear()===e.getFullYear()}var te=require("@raycast/api");async function ce(e,a){let r=[];return e==="team"&&(await C("favoriteTeams")??[]).some(l=>l.id===a)&&r.push({icon:te.Icon.Star}),e==="player"&&(await C("favoritePlayers")??[]).some(l=>l.id===a)&&r.push({icon:te.Icon.Star}),e==="league"&&(await C("favoriteLeagues")??[]).some(l=>l.id===a)&&r.push({icon:te.Icon.Star}),r}function M(e){return`https://images.fotmob.com/image_resources/logo/teamlogo/${e}.png`}function j(e,a="light"){return`https://images.fotmob.com/image_resources/logo/leaguelogo/${a}/${e}.png`}function xe(e){return`https://images.fotmob.com/image_resources/playerimages/${e}.png`}function re(e){return`https://www.fotmob.com/match/${e}`}function le(e){return`https://www.fotmob.com/teams/${e}`}function Se(e){return`https://www.fotmob.com/players/${e}`}function Ie(e){return`https://www.fotmob.com/leagues/${e}`}function Ee(e){let a=(0,Ae.useRef)(void 0),{data:r,error:t,isLoading:s,revalidate:l}=Q(async h=>{let p=`https://apigw.fotmob.com/searchapi/suggest?term=${h}&lang=en`,f=await fetch(p,{signal:a.current?.signal});if(!f.ok)throw new Error("Failed to fetch search results");let c=await f.json(),d=Promise.all(c.teamSuggest?.[0]?.options.map(async m=>({type:"team",title:m.text.split("|")[0],imageUrl:M(m.payload.id),subtitle:"",accessories:await ce("team",m.payload.id),payload:m.payload,raw:m}))??[]),i=Promise.all(c.squadMemberSuggest?.[0]?.options.map(async m=>({type:"player",title:m.text.split("|")[0],imageUrl:xe(m.payload.id),subtitle:"",accessories:(await ce("player",m.payload.id)).concat(typeof m.payload.teamId=="number"&&m.payload.teamName?[{tag:m.payload.teamName}]:[]),payload:m.payload,raw:m}))??[]),n=Promise.all(c.matchSuggest?.[0]?.options.map(async m=>({type:"match",title:m.text.split("|")[0],imageUrl:j(m.payload.leagueId,"dark"),subtitle:ee(m.payload.matchDate),accessories:[{icon:M(m.payload.homeTeamId)},{icon:M(m.payload.awayTeamId)}].concat(typeof m.payload.homeScore=="number"&&typeof m.payload.awayScore=="number"?[{text:`${m.payload.homeScore} - ${m.payload.awayScore}`}]:[]),payload:m.payload,raw:m}))??[]),v=Promise.all(c.leagueSuggest?.[0]?.options.map(async m=>({type:"league",title:m.text.split("|")[0],imageUrl:j(m.payload.id,Te.environment.appearance),subtitle:"",accessories:[],payload:m.payload,raw:m}))??[]),g=await Promise.all([d,i,n,v]),k=[];return g[0].length>0&&k.push({title:"Teams",items:g[0]}),g[1].length>0&&k.push({title:"Players",items:g[1]}),g[2].length>0&&k.push({title:"Matches",items:g[2]}),g[3].length>0&&k.push({title:"Leagues",items:g[3]}),k},[e],{abortable:a});return{result:r,error:t,isLoading:s,revalidate:l}}var ae=require("@raycast/api");function B(e){return(0,ae.launchCommand)({name:"team",type:ae.LaunchType.UserInitiated,arguments:{teamId:e}})}var o=require("@raycast/api");var ne=require("@raycast/api");async function Re(e){try{await(0,ne.launchCommand)({name:"match-detail",type:ne.LaunchType.UserInitiated,arguments:{matchId:e.toString()}})}catch(a){console.error("Failed to launch match detail command:",a)}}var Pe=require("@raycast/api"),Ce=require("react/jsx-runtime");function N({title:e,...a}){let r=(()=>{if(!e||typeof e!="string")return"Unknown Item";let t=e.trim();return!t||t==="null"||t==="undefined"?"Unknown Item":t})();return(0,Ce.jsx)(Pe.List.Item,{...a,title:r})}var x=require("react/jsx-runtime");function ue({match:e,additionalActions:a,showTeamActions:r=!0,...t}){let s=Y();if(!e)return(0,x.jsx)(N,{title:"No Match Data",subtitle:"Match information is missing",icon:o.Icon.ExclamationMark,...t});if(!e.home||!e.away||!e.status||!e.tournament)return(0,x.jsx)(N,{title:"Invalid Match Data",subtitle:"Match information is incomplete",icon:o.Icon.ExclamationMark,...t});if(!e.home.name||!e.away.name)return(0,x.jsx)(N,{title:"Unknown Teams",subtitle:"Team names are missing",icon:o.Icon.ExclamationMark,...t});let l=e.status?.ongoing===!0?"ongoing":e.status?.finished===!0?"finished":e.status?.cancelled===!0?"postponed":"not-started",h=e.result!=null?e.result>0?"win":e.result<0?"lose":"draw":"not-started",p=(()=>{if(l==="ongoing")return{source:o.Icon.PlayFilled,tintColor:o.Color.Green};if(l==="finished")switch(h){case"win":return{source:o.Icon.CheckCircle,tintColor:o.Color.Green};case"lose":return{source:o.Icon.XMarkCircleFilled,tintColor:o.Color.Red};case"draw":return{source:o.Icon.MinusCircleFilled,tintColor:o.Color.Yellow}}return l==="postponed"?{source:o.Icon.XMarkCircleFilled,tintColor:o.Color.Red}:{source:o.Icon.Calendar,tintColor:o.Color.Blue}})(),f=(()=>{let d=e.home?.name?.trim()||"Home Team",i=e.away?.name?.trim()||"Away Team",n=e.home?.score??0,v=e.away?.score??0,g="";return l==="ongoing"?g=`${e.status?.liveTime?.short??"On"} | ${d} ${n} - ${v} ${i}`:l==="finished"?g=`${e.status?.reason?.short??"FT"} | ${d} ${n} - ${v} ${i}`:l==="postponed"?g=`${e.status?.reason?.short??"PP"} | ${d} - ${i}`:g=`${d} - ${i}`,g.trim()||`Match ${e.id||"Unknown"}`})(),c=()=>{let d=s.teams.some(g=>g.id===e.home?.id?.toString()),i=s.teams.some(g=>g.id===e.away?.id?.toString()),n={id:e.home?.id?.toString()||"",name:e.home?.name||"Home Team",leagueId:e.tournament?.leagueId?.toString()||""},v={id:e.away?.id?.toString()||"",name:e.away?.name||"Away Team",leagueId:e.tournament?.leagueId?.toString()||""};return(0,x.jsxs)(o.ActionPanel,{children:[(0,x.jsxs)(o.ActionPanel.Section,{title:"Match Actions",children:[(0,x.jsx)(o.Action,{icon:o.Icon.AppWindowSidebarRight,title:"Show Match Details",onAction:()=>{Re(`${e.id}`)}}),(0,x.jsx)(o.Action.OpenInBrowser,{icon:o.Icon.Globe,title:"View Match on Fotmob",url:re(e.id)}),(0,x.jsx)(o.Action.CopyToClipboard,{icon:o.Icon.Clipboard,title:`Copy Match ID (${e.id})`,content:e.id?.toString()||"",shortcut:{modifiers:["cmd"],key:"."}})]}),r&&(0,x.jsxs)(o.ActionPanel.Section,{title:"Team Actions",children:[(0,x.jsx)(o.Action,{icon:o.Icon.Person,title:`View ${e.home?.name||"Home Team"} Details`,onAction:()=>{B(`${e.home?.id||0}`)},shortcut:{modifiers:["cmd","shift"],key:"h"}}),(0,x.jsx)(o.Action,{icon:o.Icon.Person,title:`View ${e.away?.name||"Away Team"} Details`,onAction:()=>{B(`${e.away?.id||0}`)},shortcut:{modifiers:["cmd","shift"],key:"a"}}),(0,x.jsx)(o.Action.OpenInBrowser,{icon:o.Icon.Globe,title:`View ${e.home?.name||"Home Team"} on Fotmob`,url:le(e.home?.id||0)}),(0,x.jsx)(o.Action.OpenInBrowser,{icon:o.Icon.Globe,title:`View ${e.away?.name||"Away Team"} on Fotmob`,url:le(e.away?.id||0)})]}),r&&(0,x.jsxs)(o.ActionPanel.Section,{title:"Team Favorites",children:[(0,x.jsx)(o.Action.CopyToClipboard,{icon:o.Icon.Clipboard,title:`Copy ${e.home?.name||"Home Team"} ID (${e.home?.id})`,content:e.home?.id?.toString()||"",shortcut:{modifiers:["cmd","shift"],key:"."}}),(0,x.jsx)(o.Action.CopyToClipboard,{icon:o.Icon.Clipboard,title:`Copy ${e.away?.name||"Away Team"} ID (${e.away?.id})`,content:e.away?.id?.toString()||"",shortcut:{modifiers:["cmd","shift"],key:"."}}),d?(0,x.jsx)(o.Action,{icon:o.Icon.StarDisabled,title:"Remove",onAction:async()=>{await s.removeItems("team",e.home?.id?.toString()||""),(0,o.showToast)({style:o.Toast.Style.Success,title:"Removed from favorites",message:`${e.home?.name} removed from favorites`})},shortcut:{modifiers:["cmd","shift"],key:"d"}}):(0,x.jsx)(o.Action,{icon:o.Icon.Star,title:`Add ${e.home?.name||"Home Team"} to Favorites`,onAction:async()=>{await s.addItems({type:"team",value:n}),(0,o.showToast)({style:o.Toast.Style.Success,title:"Added to favorites",message:`${e.home?.name} added to favorites`})},shortcut:{modifiers:["cmd","shift"],key:"f"}}),i?(0,x.jsx)(o.Action,{icon:o.Icon.StarDisabled,title:"Remove",onAction:async()=>{await s.removeItems("team",e.away?.id?.toString()||""),(0,o.showToast)({style:o.Toast.Style.Success,title:"Removed from favorites",message:`${e.away?.name} removed from favorites`})},shortcut:{modifiers:["cmd","shift"],key:"d"}}):(0,x.jsx)(o.Action,{icon:o.Icon.Star,title:`Add ${e.away?.name||"Away Team"} to Favorites`,onAction:async()=>{await s.addItems({type:"team",value:v}),(0,o.showToast)({style:o.Toast.Style.Success,title:"Added to favorites",message:`${e.away?.name} added to favorites`})},shortcut:{modifiers:["cmd","shift"],key:"f"}})]}),a&&(0,x.jsx)(o.ActionPanel.Section,{title:"Additional Actions",children:a})]})};return(0,x.jsx)(N,{...t,title:f,subtitle:ee(e.status?.utcTime||""),icon:p,accessories:[{icon:j(e.tournament?.leagueId||0,"dark"),tag:e.tournament?.name||"Tournament"},{icon:M(e.home?.id||0),tooltip:e.home?.name||"Home Team"},{icon:M(e.away?.id||0),tooltip:e.away?.name||"Away Team"}],actions:c()})}var De=require("react"),se=require("@raycast/api"),G=require("react/jsx-runtime");function Ue({leagues:e,onChange:a}){let r=(0,De.useMemo)(()=>{let t=new Map;return e.forEach(s=>{let l=t.get(s.primaryId);l==null&&t.set(s.primaryId,s),l?.isGroup===!0&&l?.parentLeagueName!=null&&(l.name=l.parentLeagueName)}),Array.from(t.values())},[e]);return(0,G.jsxs)(se.List.Dropdown,{tooltip:"Select a league",onChange:t=>{a(t==="all"?t:parseInt(t))},children:[(0,G.jsx)(se.List.Dropdown.Item,{title:"All",value:"all"},"all"),r.map(t=>(0,G.jsx)(se.List.Dropdown.Item,{title:t.name,value:`${t.primaryId}`},t.id))]})}var b=require("react/jsx-runtime");function fe(){let[e,a]=(0,z.useState)(new Date),[r,t]=(0,z.useState)(""),[s,l]=(0,z.useState)("all"),{data:h,isLoading:p}=ve(e),f=Ee(r),c=Y(),d=(0,z.useMemo)(()=>{let i=(h?.leagues??[]).filter(g=>s==="all"?!0:g.primaryId===s),n=0,v=[];for(;n<=50;){let g=i.shift();if(g==null)break;v.push(g),n+=g.matches.length}return v},[h,s]);return r.trim().length>0&&((f.result??[]).length>0||!f.isLoading)?(0,b.jsx)(u.List,{isLoading:p||f.isLoading,searchBarPlaceholder:"Search for Clubs, Leagues, and Players",filtering:!1,navigationTitle:"Match Day",onSearchTextChange:t,throttle:!0,children:f.result?.map(i=>(0,b.jsx)(u.List.Section,{title:i.title,children:i.items.map(n=>(0,b.jsx)(u.List.Item,{icon:n.imageUrl,title:n.title,subtitle:n.subtitle,accessories:n.accessories,actions:(0,b.jsx)(u.ActionPanel,{children:n.type==="team"?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Action,{icon:u.Icon.Calendar,title:"Show Fixture",onAction:()=>{B(n.payload.id)}}),(0,b.jsx)(u.Action.CopyToClipboard,{icon:u.Icon.Clipboard,title:`Copy Team ID (${n.payload.id})`,content:n.payload.id,shortcut:{modifiers:["cmd"],key:"."}}),c.teams.some(v=>v.id===n.payload.id)?(0,b.jsx)(u.Action,{icon:u.Icon.StarDisabled,title:"Remove from Favorites",onAction:async()=>{await c.removeItems("team",n.payload.id),(0,u.showToast)({style:u.Toast.Style.Success,title:"Removed from favorites",message:`${n.title} removed from favorites`})},shortcut:{modifiers:["cmd"],key:"d"}}):(0,b.jsx)(u.Action,{icon:u.Icon.Star,title:"Add to Favorites",onAction:async()=>{await c.addItems({type:"team",value:{id:n.payload.id,leagueId:`${n.payload.leagueId}`,name:n.title}}),(0,u.showToast)({style:u.Toast.Style.Success,title:"Added to favorites",message:`${n.title} added to favorites`})},shortcut:{modifiers:["cmd"],key:"f"}})]}):n.type==="league"?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Action.OpenInBrowser,{icon:u.Icon.Globe,title:"Show Detail in Browser",url:Ie(n.payload.id)}),(0,b.jsx)(u.Action.CopyToClipboard,{icon:u.Icon.Clipboard,title:`Copy League ID (${n.payload.id})`,content:n.payload.id,shortcut:{modifiers:["cmd"],key:"."}}),c.leagues.some(v=>v.id===n.payload.id)?(0,b.jsx)(u.Action,{icon:u.Icon.StarDisabled,title:"Remove from Favorites",onAction:async()=>{await c.removeItems("league",n.payload.id),(0,u.showToast)({style:u.Toast.Style.Success,title:"Removed from favorites",message:`${n.title} removed from favorites`})},shortcut:{modifiers:["cmd"],key:"d"}}):(0,b.jsx)(u.Action,{icon:u.Icon.Star,title:"Add to Favorites",onAction:async()=>{await c.addItems({type:"league",value:{id:n.payload.id,name:n.title,countryCode:""}}),(0,u.showToast)({style:u.Toast.Style.Success,title:"Added to favorites",message:`${n.title} added to favorites`})},shortcut:{modifiers:["cmd"],key:"f"}})]}):n.type==="player"?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Action.OpenInBrowser,{icon:u.Icon.Globe,title:"Show Detail in Browser",url:Se(n.payload.id)}),(0,b.jsx)(u.Action.CopyToClipboard,{icon:u.Icon.Clipboard,title:`Copy Player ID (${n.payload.id})`,content:n.payload.id,shortcut:{modifiers:["cmd"],key:"."}}),c.players.some(v=>v.id===n.payload.id)?(0,b.jsx)(u.Action,{icon:u.Icon.StarDisabled,title:"Remove from Favorites",onAction:async()=>{await c.removeItems("player",n.payload.id),(0,u.showToast)({style:u.Toast.Style.Success,title:"Removed from favorites",message:`${n.title} removed from favorites`})},shortcut:{modifiers:["cmd"],key:"d"}}):(0,b.jsx)(u.Action,{icon:u.Icon.Star,title:"Add to Favorites",onAction:async()=>{await c.addItems({type:"player",value:{id:n.payload.id,name:n.title,isCoach:!1}}),(0,u.showToast)({style:u.Toast.Style.Success,title:"Added to favorites",message:`${n.title} added to favorites`})},shortcut:{modifiers:["cmd"],key:"f"}})]}):(0,b.jsx)(u.Action.OpenInBrowser,{icon:u.Icon.Globe,title:"Show Detail in Browser",url:n.type==="match"?re(n.payload.id):""})})},n.title))},i.title))}):(0,b.jsx)(u.List,{isLoading:p||f.isLoading,searchBarPlaceholder:"Search for Clubs, Leagues, and Players",filtering:!1,navigationTitle:"Match Day",onSearchTextChange:t,throttle:!0,searchBarAccessory:(0,b.jsx)(Ue,{leagues:h?.leagues??[],onChange:i=>{l(i)}}),actions:(0,b.jsx)(u.ActionPanel,{children:(0,b.jsx)(u.Action.PickDate,{title:"Pick Date",onChange:i=>{i!=null&&a(i)}})}),children:d.map(i=>(0,b.jsx)(u.List.Section,{title:i.name,children:i.matches.map(n=>(0,b.jsx)(ue,{match:{...n,tournament:{leagueId:i.primaryId,name:i.name}},additionalActions:(0,b.jsx)(u.Action.PickDate,{title:"Pick Date",onChange:v=>{v!=null&&a(v)}})},n.id))},i.id))})}var _e=require("react/jsx-runtime");function Le(){return(0,_e.jsx)(fe,{})}
